(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{366:function(e,t,a){"use strict";a.r(t);var n=a(43),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#adding-payment-gateways"}},[e._v("Adding payment gateways")])])])]),a("p"),e._v(" "),a("h1",{attrs:{id:"developer-resources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#developer-resources"}},[e._v("#")]),e._v(" Developer resources")]),e._v(" "),a("h2",{attrs:{id:"adding-payment-gateways"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adding-payment-gateways"}},[e._v("#")]),e._v(" Adding payment gateways")]),e._v(" "),a("p",[e._v("Payment Driver Template.")]),e._v(" "),a("p",[e._v("So you want to make a payment driver for invoice ninja, but where to start? The first step would be to reach out to us directly on Slack https://invoiceninja.slack.com and have a chat to us in real time we can help you hit the ground running and build your driver in the most efficient way possible. Contacting us prior will also ensure that your code can be merged back into the official repository as we will be maintaining this code into the future.")]),e._v(" "),a("p",[e._v("Ready? Lets go!")]),e._v(" "),a("p",[e._v("Step 1.")]),e._v(" "),a("p",[e._v("You should update your code to be up to date with the v5-develop branch.")]),e._v(" "),a("p",[e._v("You will then want to create your own branch for for your driver ie.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Git branch my_special_driver\n")])])]),a("p",[e._v("Add the gateway into the gateways table")]),e._v(" "),a("p",[e._v("Lets create a migration file which will insert a record identifying the gateway.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("php artisan make:migration my_new_gateway\n")])])]),a("p",[e._v("Let open this file and in the up() method create our new gateway record")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("Init a new gateway instance\n\n$gateway = new Gateway;\n\nThe name of your gateway (Type: string)\n\n$gateway->name = ‘Fancy Gateway’;\n\nA random 32 alphanumeric gateway key (Type: string)\n$gateway->key = Str::lower(Str::random(32));\n\nThis is a camel cased string which is used to initialize your payment driver. We append the string Driver to this class, so if you payment driver is FancyGatewayDriver, then your provider will be FancyGateway. (Type: string)\n\n$gateway->provider = ‘FancyGateway’;\nIs_offsite specifies is this payment driver redirects the user to another page to complete the payment. Paypal Express for instance redirects to Paypal, and then returns the user once the payment is completed (Type: bool)\n\n$gateway->is_offsite = true;\n\nThe fields property contains a stdClass object of key values which defines the user settings required for the gateway, ie, Api Keys, Secrets etc. All of these fields are strings except for testMode which is a boolean and indicates whether the gateway is set to test mode. (Type stdClass)\n\n$gateway->fields = new \\stdClass;\n\nThe visible field defines whether the gateway should be visible in the UI (Type: bool)\n\n$gateway->visible = true;\n\nThe site_url is a linkable field which allows the user to go directly to the gateway page for further information (Type: string, url)\n\n$gateway->site_url = ‘https://stripe.com’;\n\nIf your gateway has multiple ways to pay, ie Credit Card, Bank Transfer etc, then you’ll want to select a default method. The list of defined methods are found on the GatewayType model\n\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("const CREDIT_CARD = 1;\nconst BANK_TRANSFER = 2;\nconst PAYPAL = 3;\nconst CRYPTO = 4;\nconst CUSTOM = 5;\nconst ALIPAY = 6;\nconst SOFORT = 7;\nconst APPLE_PAY = 8;\nconst SEPA = 9;\nconst CREDIT = 10;\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("\n$gateway->default_gateway_type_id = 1;\n$gateway->save();\n\n")])])])])}),[],!1,null,null,null);t.default=s.exports}}]);